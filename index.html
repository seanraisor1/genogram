<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Sean Raisor ‚Äì Genogram (Rubric-Compliant, One-Page Landscape)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  html,body{margin:0;background:#fff;font-family:Arial,Helvetica,sans-serif}
  @media print{@page{size:A4 landscape;margin:10mm}}

  .page{max-width:1400px;margin:8px auto;padding:8px}
  h1{font-size:20px;margin:0 0 4px;text-align:center}
  h2{font-size:13px;margin:0 0 10px;text-align:center;color:#555}

  svg{width:100%;height:auto;border:1px solid #ddd;background:#fff}

  /* node shapes */
  .male rect{fill:none;stroke:#000;stroke-width:2}
  .female circle{fill:none;stroke:#000;stroke-width:2}
  .deceased rect,.deceased circle{stroke:#c00}
  .xslash{stroke:#c00;stroke-width:2.2}

  /* relationship lines */
  .line{stroke-width:2;fill:none}
  .close{stroke:#000}                       /* solid */
  .amicable{stroke:#666;stroke-dasharray:6 3 1 3} /* dash-dot */
  .distant{stroke:#777;stroke-dasharray:5 4}      /* dashed */
  .cutoff{stroke:#06f;stroke-dasharray:2 3}       /* fine dashed (blue) */

  .label{font-size:10px;fill:#000}
  .nodeText{font-size:12px;fill:#000;text-anchor:middle}
  .legend{font-size:12px}
  .small{font-size:11px;fill:#444}
  .keyRow{display:flex;gap:18px;align-items:center;margin:4px 0}
  .keySwatch{width:48px;height:0;border-top:2px solid #000}
  .keySwatch.amicable{border-top-style:dashed;border-image:linear-gradient(#666,#666) 1}
  .keySwatch.distant{border-top:2px dashed #777}
  .keySwatch.cutoff{border-top:2px dashed #06f}
  .foot{font-size:12px;margin-top:6px;color:#444}
</style>
</head>
<body>
<div class="page">
  <h1>Sean Raisor ‚Äì Family Genogram</h1>
  <h2>Father‚Äôs family on the left ‚Ä¢ Mother‚Äôs family on the right ‚Ä¢ Three generations ‚Ä¢ Relationship lines labeled ‚Ä¢ Deceased marked with X</h2>

  <svg id="genogram" viewBox="0 0 1400 900" preserveAspectRatio="xMidYMin slice"></svg>

  <div class="legend" style="margin-top:8px">
    <div class="keyRow">
      <div>Symbols:</div>
      <div>‚òê Male</div><div>‚óã Female</div><div>X (red slash) = Deceased</div>
      <div>Double-thick square = Student (Sean)</div>
    </div>
    <div class="keyRow">
      <div>Relationships:</div>
      <div class="keySwatch"></div><div>Close</div>
      <div class="keySwatch amicable"></div><div>Amicable</div>
      <div class="keySwatch distant"></div><div>Distant</div>
      <div class="keySwatch cutoff"></div><div>Cut-Off</div>
    </div>
    <div class="keyRow">
      <div>Themes (legend-only color):</div>
      <div>üü£ Parenting: Strong Matriarchal Influence</div>
      <div>üîµ Communication: Emotional Distance / Cut-Off</div>
    </div>
    <div class="foot"><b>Verification:</b> Information verified through Amy Raisor and personal knowledge. Paternal grandfather details unknown due to long-term cut-off (this unavailability reflects the cut-off theme).</div>
  </div>
</div>

<script>
/* === Tunable spacing (no CSS variable errors) === */
const BASE_W = 150;   // base node width
const BASE_H = 70;    // base node height
const X_GAP  = 60;    // horizontal gap between nodes
const Y_GAP  = 110;   // vertical gap between generations
const LEFT_BIAS  = 520;  // center split offset: left side start < 700
const RIGHT_BIAS = 740;  // right side start > 700

/* === Data (you can edit ages/occupations here; layout auto-updates) === */
const people = [
  // Gen 1
  {id:'pGF', name:'Unknown (Paternal Grandfather)', age:'?', edu:'?', occ:'?', sex:'M', deceased:false, gen:1, side:'paternal'},
  {id:'pGM', name:'Mary (last name unknown)', age:'?', edu:'?', occ:'Unknown', sex:'F', deceased:false, gen:1, side:'paternal'},

  {id:'mGM', name:'Marie Hettrich', age:'‚úù', edu:'?', occ:'Homemaker', sex:'F', deceased:true, gen:1, side:'maternal'},
  {id:'mGF', name:'Joseph Raisor', age:'‚úù', edu:'?', occ:'Factory Worker', sex:'M', deceased:true, gen:1, side:'maternal'},

  // Gen 2
  {id:'dad', name:'Clement Robinson', age:'88', edu:'?', occ:'Hydraulic Engineer', sex:'M', deceased:false, gen:2, side:'paternal'},
  {id:'stephen', name:'Stephen Robinson', age:'50s', edu:'?', occ:'Glass Blower', sex:'M', deceased:false, gen:2, side:'paternal'},

  {id:'mom', name:'Amy Raisor', age:'67', edu:'Nursing School', occ:'Registered Nurse', sex:'F', deceased:false, gen:2, side:'maternal'},
  {id:'peggy', name:'Peggy Raisor', age:'75', edu:'?', occ:'Caregiver', sex:'F', deceased:false, gen:2, side:'maternal'},
  {id:'bonnie', name:'Bonnie Raisor', age:'62', edu:'?', occ:'Caregiver', sex:'F', deceased:false, gen:2, side:'maternal'},
  {id:'julie', name:'Julie Raisor', age:'60', edu:'?', occ:'Caregiver', sex:'F', deceased:false, gen:2, side:'maternal'},
  {id:'uncJoe', name:'Joseph Raisor', age:'‚úù', edu:'?', occ:'?', sex:'M', deceased:true, gen:2, side:'maternal'},
  {id:'uncMike', name:'Michael Raisor', age:'‚úù', edu:'?', occ:'?', sex:'M', deceased:true, gen:2, side:'maternal'},

  // Gen 3
  {id:'steph', name:'Stephanie Raisor', age:'43', edu:'Nursing', occ:'Registered Nurse', sex:'F', deceased:false, gen:3, side:'maternal'},
  {id:'shelli', name:'Shelli Raisor', age:'?', edu:'Nursing', occ:'Registered Nurse', sex:'F', deceased:false, gen:3, side:'maternal'},
  {id:'sean', name:'Sean Raisor', age:'25', edu:'College', occ:'CS Student / Founder', sex:'M', deceased:false, gen:3, side:'maternal', student:true},

  // Gen 4
  {id:'elias', name:'Elias Raisor', age:'4', edu:'Preschool', occ:'Child', sex:'M', deceased:false, gen:4, side:'maternal'},

  {id:'chris', name:'Chris Brammer', age:'27', edu:'?', occ:'?', sex:'M', deceased:false, gen:4, side:'maternal'},
  {id:'lydia', name:'Lydia Planche', age:'23', edu:'?', occ:'?', sex:'F', deceased:false, gen:4, side:'maternal'},
  {id:'israel', name:'Israel Planche', age:'18 ‚úù', edu:'?', occ:'?', sex:'M', deceased:true, gen:4, side:'maternal'},
  {id:'havilah', name:'Havilah Planche', age:'13', edu:'?', occ:'?', sex:'F', deceased:false, gen:4, side:'maternal'},
  {id:'evangelina', name:'Evangelina Planche', age:'3', edu:'?', occ:'?', sex:'F', deceased:false, gen:4, side:'maternal'},

  {id:'bailey', name:'Bailey Gravely', age:'25', edu:'?', occ:'?', sex:'F', deceased:false, gen:4, side:'maternal'},
  {id:'ethan', name:'Ethan Wellman', age:'22', edu:'?', occ:'?', sex:'M', deceased:false, gen:4, side:'maternal'},
  {id:'ashton', name:'Ashton Wellman', age:'13', edu:'?', occ:'?', sex:'M', deceased:false, gen:4, side:'maternal'},
  {id:'oliver', name:'Oliver Wellman', age:'10', edu:'?', occ:'?', sex:'M', deceased:false, gen:4, side:'maternal'}
];

const couples = [
  ['pGF','pGM','close'],   // paternal grandparents
  ['mGM','mGF','close']    // maternal grandparents
];

const parentChild = [
  // paternal grandparents -> dad
  ['pGF','dad','close'], ['pGM','dad','close'],
  // dad -> stephen (half-brother)
  ['dad','stephen','amicable'],

  // maternal grandparents -> Amy + siblings
  ['mGM','mom','close'], ['mGF','mom','close'],
  ['mGM','peggy','close'], ['mGF','peggy','close'],
  ['mGM','bonnie','close'], ['mGF','bonnie','close'],
  ['mGM','julie','close'], ['mGF','julie','close'],
  ['mGM','uncJoe','close'], ['mGF','uncJoe','close'],
  ['mGM','uncMike','close'], ['mGF','uncMike','close'],

  // Amy -> her children
  ['mom','steph','close'], ['mom','shelli','close'], ['mom','sean','close'],

  // Sean -> Elias
  ['sean','elias','close'],

  // Shelli -> her children
  ['shelli','chris','close'], ['shelli','lydia','close'], ['shelli','israel','close'],
  ['shelli','havilah','close'], ['shelli','evangelina','close'],

  // Stephanie -> her children
  ['steph','bailey','close'], ['steph','ethan','close'], ['steph','ashton','close'], ['steph','oliver','close']
];

// explicit relationship lines
const relLines = [
  ['dad','mom','cutoff','Cut-Off'],     // Amy ‚Üî Clement
  ['sean','dad','cutoff','Cut-Off'],    // Sean ‚Üî Father
  ['sean','shelli','amicable','Amicable'],
  ['sean','steph','amicable','Amicable']
];

/* === Simple auto layout (no getComputedStyle typos) === */
const svg = document.getElementById('genogram');
const placements = new Map(); // id -> {x,y,w,h,cx,cy}

function labelText(p){
  const age = p.age ? `Age: ${p.age}` : '';
  const edu = p.edu || '';
  const occ = p.occ || '';
  const line2 = [age, edu].filter(s=>s && s!=='?').join(' | ');
  const lines = [p.name, line2 || '', occ].filter(Boolean);
  return lines;
}

function measure(lines){
  const maxChars = Math.max(...lines.map(s=>s.length || 1));
  const w = Math.max(BASE_W, Math.min(220, Math.round(maxChars*6.2)));
  const h = Math.max(BASE_H, 14*lines.length + 26);
  return {w,h};
}

function sortByAge(arr){
  const ageRank = v=>{
    if(!v || v==='?') return 999;
    const m = String(v).match(/\d+/);
    return m ? (100 - parseInt(m[0],10)) : 999; // older first
  };
  return arr.slice().sort((a,b)=> ageRank(a.age) - ageRank(b.age));
}

function place(){
  const gens = [1,2,3,4];
  gens.forEach((g,i)=>{
    const y = 120 + i*(BASE_H+Y_GAP);
    const left = sortByAge(people.filter(p=>p.gen===g && p.side==='paternal'));
    const right = sortByAge(people.filter(p=>p.gen===g && p.side==='maternal'));

    left.forEach((p,idx)=>{
      const lines = labelText(p);
      const {w,h} = measure(lines);
      const x = LEFT_BIAS - (left.length-1)*((BASE_W+X_GAP)/2) + idx*(BASE_W+X_GAP);
      placements.set(p.id,{x,y,w,h,cx:x+w/2,cy:y+h/2});
    });

    right.forEach((p,idx)=>{
      const lines = labelText(p);
      const {w,h} = measure(lines);
      const x = RIGHT_BIAS - (right.length-1)*((BASE_W+X_GAP)/2) + idx*(BASE_W+X_GAP);
      placements.set(p.id,{x,y,w,h,cx:x+w/2,cy:y+h/2});
    });
  });
}

function add(el){ svg.appendChild(el); }

function drawNode(p){
  const pos = placements.get(p.id);
  const g = document.createElementNS('http://www.w3.org/2000/svg','g');
  g.setAttribute('class', (p.sex==='M'?'male':'female') + (p.deceased?' deceased':''));
  g.setAttribute('transform', `translate(${pos.cx},${pos.cy})`);

  if(p.sex==='M'){
    const r = document.createElementNS('http://www.w3.org/2000/svg','rect');
    r.setAttribute('x', -pos.w/2);
    r.setAttribute('y', -pos.h/2);
    r.setAttribute('width', pos.w);
    r.setAttribute('height', pos.h);
    if(p.student) r.setAttribute('style','stroke-width:3');
    g.appendChild(r);
  }else{
    const c = document.createElementNS('http://www.w3.org/2000/svg','circle');
    const rad = Math.max(35, Math.min(pos.w,pos.h)/2);
    c.setAttribute('r', rad);
    g.appendChild(c);
  }

  if(p.deceased){
    const w = Math.min(pos.w,pos.h)*0.9;
    const l1 = document.createElementNS('http://www.w3.org/2000/svg','line');
    const l2 = document.createElementNS('http://www.w3.org/2000/svg','line');
    l1.setAttribute('x1', -w/2); l1.setAttribute('y1', -w/2);
    l1.setAttribute('x2',  w/2); l1.setAttribute('y2',  w/2);
    l2.setAttribute('x1', -w/2); l2.setAttribute('y1',  w/2);
    l2.setAttribute('x2',  w/2); l2.setAttribute('y2', -w/2);
    l1.setAttribute('class','xslash'); l2.setAttribute('class','xslash');
    g.appendChild(l1); g.appendChild(l2);
  }

  const t = document.createElementNS('http://www.w3.org/2000/svg','text');
  t.setAttribute('class','nodeText');
  t.setAttribute('x',0);
  t.setAttribute('y', (p.sex==='F' ? Math.max(35, Math.min(pos.w,pos.h)/2)+16 : pos.h/2+16));
  labelText(p).forEach((line,i)=>{
    const ts = document.createElementNS('http://www.w3.org/2000/svg','tspan');
    ts.setAttribute('x','0'); ts.setAttribute('dy', i?14:0);
    ts.textContent = line;
    t.appendChild(ts);
  });
  g.appendChild(t);
  add(g);
}

function drawLine(aId,bId,cls,label){
  const A = placements.get(aId), B = placements.get(bId);
  if(!A || !B) return;
  const L = document.createElementNS('http://www.w3.org/2000/svg','line');
  L.setAttribute('x1', A.cx); L.setAttribute('y1', A.cy);
  L.setAttribute('x2', B.cx); L.setAttribute('y2', B.cy);
  L.setAttribute('class', `line ${cls}`);
  add(L);
  if(label){
    const tx = document.createElementNS('http://www.w3.org/2000/svg','text');
    tx.setAttribute('class','label');
    tx.setAttribute('x', (A.cx+B.cx)/2);
    tx.setAttribute('y', (A.cy+B.cy)/2 - 6);
    tx.setAttribute('text-anchor','middle');
    tx.textContent = label;
    add(tx);
  }
}

function init(){
  place();

  // draw lines FIRST so nodes sit on top
  couples.forEach(([a,b,type])=> drawLine(a,b,type,'Close'));
  parentChild.forEach(([p,c,type])=> drawLine(p,c,type, type==='close'?'Parent‚ÄìChild':''));
  relLines.forEach(([a,b,type,label])=> drawLine(a,b,type,label||''));

  // draw nodes on top
  people.forEach(drawNode);
}

init();
</script>
</body>
</html>
