<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Sean Raisor ‚Äì Genogram (Rubric-Compliant, Auto-Layout)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root{
    --w: 150;   /* base node width */
    --h: 66;    /* base node height */
    --xgap: 50; /* horizontal gap between nodes */
    --ygap: 90; /* vertical gap between generations/rows */
    --font: 12px;
  }
  html,body{margin:0;background:#fff;font-family:Arial,Helvetica,sans-serif;}
  .page{max-width:1400px;margin:8px auto;padding:8px;}
  h1{font-size:20px;margin:0 0 4px;text-align:center}
  h2{font-size:13px;margin:0 0 10px;text-align:center;color:#555}
  .legend{font-size:12px;margin-top:8px}
  svg{width:100%;height:auto;border:1px solid #ddd;background:#fff}
  /* shapes */
  .male rect{fill:none;stroke:#000;stroke-width:2}
  .female circle{fill:none;stroke:#000;stroke-width:2}
  .deceased rect,.deceased circle{stroke:#c00}
  .xslash{stroke:#c00;stroke-width:2.2}
  /* lines */
  .line{stroke-width:2;fill:none}
  .close{stroke:#000}
  .amicable{stroke:#666;stroke-dasharray:6 3 1 3}
  .distant{stroke:#777;stroke-dasharray:5 4}
  .cutoff{stroke:#06f;stroke-dasharray:2 3}
  .label{font-size:10px;fill:#000}
  .nodeText{font-size:12px;fill:#000;text-anchor:middle}
  .small{font-size:11px;fill:#444}
  .keyRow{display:flex;gap:18px;align-items:center;margin:4px 0}
  .keySwatch{width:48px;height:0;border-top:2px solid #000}
  .keySwatch.amicable{border-top-style:dashed;border-image:linear-gradient(#666,#666) 1}
  .keySwatch.distant{border-top:2px dashed #777}
  .keySwatch.cutoff{border-top:2px dashed #06f}
  .foot{font-size:12px;margin-top:6px;color:#444}
  @media print{@page{size: A4 landscape; margin:10mm}}
</style>
</head>
<body>
<div class="page">
  <h1>Sean Raisor ‚Äì Family Genogram</h1>
  <h2>Father‚Äôs family on the left ‚Ä¢ Mother‚Äôs family on the right ‚Ä¢ Three generations ‚Ä¢ Relationship lines labeled ‚Ä¢ Deceased marked with X</h2>

  <svg id="genogram" viewBox="0 0 1400 900" preserveAspectRatio="xMidYMin slice"></svg>

  <div class="legend">
    <div class="keyRow">
      <div>Symbols:</div>
      <div>‚òê Male</div>
      <div>‚óã Female</div>
      <div>X (red slash) = Deceased</div>
      <div>Double-thick square = Student (Sean)</div>
    </div>
    <div class="keyRow">
      <div>Relationships:</div>
      <div class="keySwatch"></div><div>Close</div>
      <div class="keySwatch amicable"></div><div>Amicable</div>
      <div class="keySwatch distant"></div><div>Distant</div>
      <div class="keySwatch cutoff"></div><div>Cut-Off</div>
    </div>
    <div class="keyRow">
      <div>Themes (legend-only color):</div>
      <div>üü£ Parenting: Strong Matriarchal Influence</div>
      <div>üîµ Communication: Emotional Distance / Cut-Off</div>
    </div>
    <div class="foot"><b>Verification:</b> Information verified through Amy Raisor and personal knowledge. Paternal grandfather details unknown due to long-term cut-off (this unavailability itself reflects the cut-off theme).</div>
  </div>
</div>

<script>
/**
 * Auto-layout genogram: define people and relations, the script computes a clean grid
 * so nodes don‚Äôt overlap. You can edit the data below without changing coordinates.
 *
 * Conventions:
 * - sex: 'M' | 'F'
 * - deceased: true|false
 * - gen: 1 (grandparents), 2 (parents & their siblings), 3 (you & siblings), 4 (children)
 * - side: 'paternal' | 'maternal' (controls left/right bias)
 * - rel: relationship lines between ids with type: close | amicable | distant | cutoff, with optional label
 */

const people = [
  // ===== Gen 1: Grandparents =====
  {id:'pGF', name:'Unknown (Paternal Grandfather)', age:'?', edu:'?', occ:'?', sex:'M', deceased:false, gen:1, side:'paternal'},
  {id:'pGM', name:'Mary (last name unknown)', age:'?', edu:'?', occ:'Unknown', sex:'F', deceased:false, gen:1, side:'paternal'},

  {id:'mGM', name:'Marie Hettrich', age:'‚úù', edu:'?', occ:'Homemaker', sex:'F', deceased:true, gen:1, side:'maternal'},
  {id:'mGF', name:'Joseph Raisor', age:'‚úù', edu:'?', occ:'Factory Worker', sex:'M', deceased:true, gen:1, side:'maternal'},

  // ===== Gen 2: Parents + aunts/uncles =====
  {id:'dad', name:'Clement Robinson', age:'88', edu:'?', occ:'Hydraulic Engineer', sex:'M', deceased:false, gen:2, side:'paternal'},
  {id:'stephen', name:'Stephen Robinson', age:'50s', edu:'?', occ:'Glass Blower', sex:'M', deceased:false, gen:2, side:'paternal'},

  {id:'mom', name:'Amy Raisor', age:'67', edu:'Nursing School', occ:'Registered Nurse', sex:'F', deceased:false, gen:2, side:'maternal'},
  {id:'peggy', name:'Peggy Raisor', age:'75', edu:'?', occ:'Caregiver', sex:'F', deceased:false, gen:2, side:'maternal'},
  {id:'bonnie', name:'Bonnie Raisor', age:'62', edu:'?', occ:'Caregiver', sex:'F', deceased:false, gen:2, side:'maternal'},
  {id:'julie', name:'Julie Raisor', age:'60', edu:'?', occ:'Caregiver', sex:'F', deceased:false, gen:2, side:'maternal'},
  {id:'uncJoe', name:'Joseph Raisor', age:'‚úù', edu:'?', occ:'?', sex:'M', deceased:true, gen:2, side:'maternal'},
  {id:'uncMike', name:'Michael Raisor', age:'‚úù', edu:'?', occ:'?', sex:'M', deceased:true, gen:2, side:'maternal'},

  // ===== Gen 3: You & siblings =====
  {id:'steph', name:'Stephanie Raisor', age:'43', edu:'Nursing', occ:'Registered Nurse', sex:'F', deceased:false, gen:3, side:'maternal'},
  {id:'shelli', name:'Shelli Raisor', age:'?', edu:'Nursing', occ:'Registered Nurse', sex:'F', deceased:false, gen:3, side:'maternal'},
  {id:'sean', name:'Sean Raisor', age:'25', edu:'College', occ:'CS Student / Founder', sex:'M', deceased:false, gen:3, side:'maternal', student:true},

  // ===== Gen 4: Children =====
  {id:'elias', name:'Elias Raisor', age:'4', edu:'Preschool', occ:'Child', sex:'M', deceased:false, gen:4, side:'maternal'},

  {id:'chris', name:'Chris Brammer', age:'27', edu:'?', occ:'?', sex:'M', deceased:false, gen:4, side:'maternal'},
  {id:'lydia', name:'Lydia Planche', age:'23', edu:'?', occ:'?', sex:'F', deceased:false, gen:4, side:'maternal'},
  {id:'israel', name:'Israel Planche', age:'18 ‚úù', edu:'?', occ:'?', sex:'M', deceased:true, gen:4, side:'maternal'},
  {id:'havilah', name:'Havilah Planche', age:'13', edu:'?', occ:'?', sex:'F', deceased:false, gen:4, side:'maternal'},
  {id:'evangelina', name:'Evangelina Planche', age:'3', edu:'?', occ:'?', sex:'F', deceased:false, gen:4, side:'maternal'},

  {id:'bailey', name:'Bailey Gravely', age:'25', edu:'?', occ:'?', sex:'F', deceased:false, gen:4, side:'maternal'},
  {id:'ethan', name:'Ethan Wellman', age:'22', edu:'?', occ:'?', sex:'M', deceased:false, gen:4, side:'maternal'},
  {id:'ashton', name:'Ashton Wellman', age:'13', edu:'?', occ:'?', sex:'M', deceased:false, gen:4, side:'maternal'},
  {id:'oliver', name:'Oliver Wellman', age:'10', edu:'?', occ:'?', sex:'M', deceased:false, gen:4, side:'maternal'}
];

// Couples (for marriage/union lines)
const couples = [
  ['pGF','pGM','close'],            // paternal grandparents
  ['mGM','mGF','close'],            // maternal grandparents
];

// Parent-child links
const parentChild = [
  // paternal side
  ['pGF','dad','close'], ['pGM','dad','close'],
  // Stephen is dad's other child (half-brother to you) ‚Äì we only show as dad->stephen
  ['dad','stephen','amicable'],

  // maternal side: grandparents -> Amy + siblings
  ['mGM','mom','close'], ['mGF','mom','close'],
  ['mGM','peggy','close'], ['mGF','peggy','close'],
  ['mGM','bonnie','close'], ['mGF','bonnie','close'],
  ['mGM','julie','close'], ['mGF','julie','close'],
  ['mGM','uncJoe','close'], ['mGF','uncJoe','close'],
  ['mGM','uncMike','close'], ['mGF','uncMike','close'],

  // Amy -> her children (steph, shelli, sean)
  ['mom','steph','close'], ['mom','shelli','close'], ['mom','sean','close'],

  // Sean -> Elias
  ['sean','elias','close'],

  // Shelli -> her children
  ['shelli','chris','close'], ['shelli','lydia','close'], ['shelli','israel','close'],
  ['shelli','havilah','close'], ['shelli','evangelina','close'],

  // Stephanie -> her children
  ['steph','bailey','close'], ['steph','ethan','close'], ['steph','ashton','close'], ['steph','oliver','close'],
];

// Relationship labels between two people not implied by parent/child
const relLines = [
  ['dad','mom','cutoff','Cut-Off'],   // Amy ‚Üî Clement: Cut-Off
  ['sean','dad','cutoff','Cut-Off'],  // Sean ‚Üî Father: Cut-Off
  ['sean','shelli','amicable','Amicable'],
  ['sean','steph','amicable','Amicable']
];

/* --------------------------- Auto Layout --------------------------- */
const svg = document.getElementById('genogram');

// group people by generation and side for placement
const gens = [1,2,3,4];
const sideOrder = ['paternal','maternal'];

const placements = new Map(); // id -> {x,y,w,h,cx,cy}

function measureText(t, font='12px Arial'){
  // rough width estimate (no external fonts): ~ 0.6 * chars * font px
  const lines = t.split('\n');
  const maxLen = Math.max(...lines.map(s=>s.length||1));
  const width = Math.max(80, Math.min(220, Math.round(maxLen * 6.2)));
  const height = Math.max(48, lines.length * 14 + 28);
  return {w: width, h: height};
}

function nodeLabel(p){
  const a = p.age ? `Age: ${p.age}` : '';
  const e = p.edu ? p.edu : '';
  const o = p.occ ? p.occ : '';
  // compact 3-line label
  return `${p.name}\n${a}${(a&&e)?' | ':''}${(!a&&e)?e:''}${(!a&&e&&o)?' | ':''}${(!a&& !e && o)?o:''}\n${(a||e)?o:''}`;
}

function placeNodes(){
  const colWidth =  (parseInt(getComputedStyle(document.documentElement).getPropertyValue('--w')) + parseInt(getComputedStyle(document.documentElement).getPropertyValue('--xgap')));
  const rowHeight = (parseInt(getComputedStyle(document.documentElement).getPropertyValue('--h')) + parseInt(getComputedStyle(document.documentElement).getPropertyValue('--ygap')));

  gens.forEach((g,gi)=>{
    const rowY = 110 + gi * rowHeight;
    // left side nodes of this generation
    const left = people.filter(p=>p.gen===g && p.side==='paternal');
    const right = people.filter(p=>p.gen===g && p.side==='maternal');

    // sort siblings oldest‚Üíyoungest where we know ages; otherwise keep given order
    const ageRank = val=>{
      if(!val || val==='?') return 999;
      // extract first number
      const m = String(val).match(/\d+/);
      return m ? 100 - parseInt(m[0],10) : 999; // bigger age => earlier
    };
    const sortByAge = arr => arr.slice().sort((a,b)=> ageRank(a.age) - ageRank(b.age));

    const L = sortByAge(left);
    const R = sortByAge(right);

    // columns: paternal left from center, maternal right from center
    const centerX = 700;
    const startLeft = centerX - (colWidth * (L.length)) - 60;
    const startRight = centerX + 60;

    L.forEach((p,idx)=>{
      const text = nodeLabel(p);
      const {w,h} = measureText(text);
      const x = startLeft + idx*colWidth - w/2 + (parseInt(getComputedStyle(document.documentElement).getPropertyValue('--w'))/2);
      const y = rowY - h/2;
      placements.set(p.id,{x,y,w,h,cx:x+w/2,cy:y+h/2});
    });

    R.forEach((p,idx)=>{
      const text = nodeLabel(p);
      const {w,h} = measureText(text);
      const x = startRight + idx*colWidth - w/2 + (parseInt(getComputedStyle(document.document.documentElement || document.documentElement).getPropertyValue('--w'))/2);
      const y = rowY - h/2;
      placements.set(p.id,{x,y,w,h,cx:x+w/2,cy:y+h/2});
    });
  });
}

function drawNode(p){
  const g = document.createElementNS('http://www.w3.org/2000/svg','g');
  const pos = placements.get(p.id);
  const cx = pos.cx, cy = pos.cy;
  const isMale = p.sex==='M';
  g.setAttribute('class', (isMale?'male':'female') + (p.deceased?' deceased':''));
  g.setAttribute('transform', `translate(${cx},${cy})`);

  if(isMale){
    const r = document.createElementNS('http://www.w3.org/2000/svg','rect');
    r.setAttribute('x', -pos.w/2); r.setAttribute('y', -pos.h/2);
    r.setAttribute('width', pos.w); r.setAttribute('height', pos.h);
    r.setAttribute('style', `stroke-width:${p.student?3:2}`);
    g.appendChild(r);
  }else{
    const c = document.createElementNS('http://www.w3.org/2000/svg','circle');
    // approximate circle radius from node box
    const rad = Math.max(32, Math.min(pos.w,pos.h)/2);
    c.setAttribute('r', rad);
    g.appendChild(c);
  }

  if(p.deceased){
    const l1 = document.createElementNS('http://www.w3.org/2000/svg','line');
    const l2 = document.createElementNS('http://www.w3.org/2000/svg','line');
    const w = Math.min(pos.w,pos.h)*0.9;
    l1.setAttribute('x1', -w/2); l1.setAttribute('y1', -w/2);
    l1.setAttribute('x2',  w/2); l1.setAttribute('y2',  w/2);
    l2.setAttribute('x1', -w/2); l2.setAttribute('y1',  w/2);
    l2.setAttribute('x2',  w/2); l2.setAttribute('y2', -w/2);
    l1.setAttribute('class','xslash'); l2.setAttribute('class','xslash');
    g.appendChild(l1); g.appendChild(l2);
  }

  const t = document.createElementNS('http://www.w3.org/2000/svg','text');
  t.setAttribute('class','nodeText');
  t.setAttribute('x',0); t.setAttribute('y', (p.sex==='F'? (Math.max(32,Math.min(pos.w,pos.h)/2)+16) : (pos.h/2+16)));
  nodeLabel(p).split('\n').forEach((line,i)=>{
    const tsp = document.createElementNS('http://www.w3.org/2000/svg','tspan');
    tsp.setAttribute('x','0');
    tsp.setAttribute('dy', i===0 ? 0 : 14);
    tsp.textContent = line;
    t.appendChild(tsp);
  });
  g.appendChild(t);

  svg.appendChild(g);
}

function mid(a,b){ return {x:(a.cx+b.cx)/2, y:(a.cy+b.cy)/2}; }

function drawLine(aId,bId,cls,label){
  const A = placements.get(aId), B = placements.get(bId);
  const line = document.createElementNS('http://www.w3.org/2000/svg','line');
  line.setAttribute('x1', A.cx); line.setAttribute('y1', A.cy);
  line.setAttribute('x2', B.cx); line.setAttribute('y2', B.cy);
  line.setAttribute('class', `line ${cls}`);
  svg.appendChild(line);

  if(label){
    const m = mid(A,B);
    const tx = document.createElementNS('http://www.w3.org/2000/svg','text');
    tx.setAttribute('class','label');
    tx.setAttribute('x', m.x); tx.setAttribute('y', m.y - 6);
    tx.setAttribute('text-anchor','middle');
    tx.textContent = label;
    svg.appendChild(tx);
  }
}

function init(){
  placeNodes();

  // draw nodes
  people.forEach(drawNode);

  // draw couple (marriage) lines
  couples.forEach(([a,b,type])=>{
    drawLine(a,b,type,'Close');
  });

  // draw parent-child connectors (as lines; label once in the middle for clarity)
  parentChild.forEach(([p,c,type])=>{
    drawLine(p,c,type, (type==='close'?'Parent‚ÄìChild':''));
  });

  // explicit relationship lines (non-hierarchical: e.g., cut-offs and sibling amicable)
  relLines.forEach(([a,b,type,label])=>{
    drawLine(a,b,type,label||'');
  });
}

init();
</script>
</body>
</html>
